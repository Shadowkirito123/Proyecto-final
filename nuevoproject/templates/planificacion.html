{% extends 'base.html' %}

{% block content %}
<style>
    .custom-background {
        background-color: rgba(0, 64, 128, 0.2); /* Azul #004080 con 20% de opacidad */
        border-radius: 10px; /* Ajusta el valor para controlar el grado de curvatura */
        border: 1px solid rgba(0, 64, 128, 0.3); /* Borde azul claro con 30% de opacidad */
    }
    .text-dark {
        color: #000; /* Color negro */
    }
</style>

<div class="border rounded p-3 custom-background shadow-sm">
    <ul class="list-unstyled">
        <li class="mb-4">
            {% if planificacion %}

                {% for planificaciones in planificacion %}
                <header class="mb-3">
                    <h3 class="text-dark"><i class="fas fa-book-open me-2"></i>Materia: {{planificaciones.profesor.materia}}</h3>
                </header>
                <p class="mb-2"><strong><i class="fas fa-bullseye me-2"></i>Metas:</strong> {{planificaciones.actividades.metas}}</p>
                <p class="mb-2"><strong><i class="fas fa-tasks me-2"></i>Tarea:</strong> {{planificaciones.actividades.tarea}}</p>
                <p class="mb-2"><strong><i class="fas fa-calendar-alt me-2"></i>Fecha de inicio:</strong> {{planificaciones.actividades.fecha_inicio}}</p>
                <p class="mb-2"><strong><i class="fas fa-calendar-check me-2"></i>Fecha de culminaci√≥n:</strong> {{planificaciones.actividades.fecha_final}}</p>
                <p class="mb-2">
                    <strong><i class="fas fa-chalkboard-teacher me-2"></i>Profesor:</strong> {{planificaciones.profesor}} 
                    <a href="{% url 'enviar_mensaje' receptor_id=user.id %}">
                        <button class="btn btn-sm btn-primary ms-2">
                            <i class="fas fa-envelope me-1"></i>Enviar mensaje a {{planificaciones.profesor}}
                        </button>
                    </a> 
                    <input type="hidden" name="profe" id="profe" value="{{planificaciones.profesor.user.id}}">
                </p>
                <p class="mt-3">
                    <span class="badge {% if planificaciones.actividades.importante %}bg-danger{% else %}bg-secondary{% endif %}">
                        <i class="fas fa-exclamation-circle me-1"></i>
                        {% if planificaciones.actividades.importante %} Es importante {% else %} No es importante {% endif %}
                    </span>
                </p>
                <hr>
                {% endfor %}

            {% else %}
                <div class="alert alert-danger text-center">
                    <i class="fas fa-exclamation-circle"></i> {{ error }}
                </div>
            {% endif %}
            
        </li>
    </ul>
</div>


{% endblock %}